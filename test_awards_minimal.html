<!DOCTYPE html>
<html>
<head>
    <title>Test Awards Minimal</title>
</head>
<body>
    <h1>Test Awards</h1>
    <div id="test-content"></div>
    
    <script>
        const CATEGORY = 'Awards';
        
        function generateReportContent(summary) {
            const awardNames = {
                'leadership': 'Internationalization (IZN) Leadership Award',
                'education': 'Outstanding International Education Program Award',
                'emerging': 'Emerging Leadership Award',
                'regional': 'Best Regional Office for Internationalization Award',
                'global': 'Global Citizenship Award'
            };

            let content = '<div class="space-y-6">';
            
            summary.forEach(award => {
                const readinessColor = award.readiness === 'Ready to Apply' ? 'green' : 
                                     award.readiness === 'Nearly Ready' ? 'yellow' : 'red';
                const readinessIcon = award.readiness === 'Ready to Apply' ? '✅' : 
                                    award.readiness === 'Nearly Ready' ? '⚠️' : '❌';
                
                content += `
                    <div class="border border-gray-200 rounded-lg p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-xl font-semibold text-gray-900">${awardNames[award.award_type] || award.award_type}</h3>
                            <span class="px-3 py-1 rounded-full text-sm font-medium bg-${readinessColor}-100 text-${readinessColor}-800">
                                ${readinessIcon} ${award.readiness}
                            </span>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <div class="text-2xl font-bold text-blue-600">${award.satisfied_count}/${award.total_count}</div>
                                <div class="text-sm text-blue-800">Criteria Satisfied</div>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg">
                                <div class="text-2xl font-bold text-green-600">${award.document_count}</div>
                                <div class="text-sm text-green-800">Documents Uploaded</div>
                            </div>
                            <div class="bg-purple-50 p-4 rounded-lg">
                                <div class="text-2xl font-bold text-purple-600">${award.event_count}</div>
                                <div class="text-sm text-purple-800">Events Created</div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-medium text-gray-900 mb-2">Progress</h4>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-${readinessColor}-500 h-2 rounded-full" style="width: ${(award.satisfied_count / award.total_count) * 100}%"></div>
                            </div>
                            <p class="text-sm text-gray-600 mt-2">
                                ${award.total_count - award.satisfied_count} criteria remaining to complete this award
                            </p>
                        </div>
                    </div>
                `;
            });
            
            content += '</div>';
            
            // Add summary statistics
            const totalAwards = summary.length;
            const readyAwards = summary.filter(a => a.readiness === 'Ready to Apply').length;
            const nearlyReadyAwards = summary.filter(a => a.readiness === 'Nearly Ready').length;
            const incompleteAwards = summary.filter(a => a.readiness === 'Incomplete').length;
            
            content = `
                <div class="mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Overall Summary</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-blue-600">${totalAwards}</div>
                            <div class="text-sm text-blue-800" data-text="awards.totalAwards">Total Awards</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-green-600">${readyAwards}</div>
                            <div class="text-sm text-green-800">Ready to Apply</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-yellow-600">${nearlyReadyAwards}</div>
                            <div class="text-sm text-yellow-800">Nearly Ready</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-red-600">${incompleteAwards}</div>
                            <div class="text-sm text-red-800">Incomplete</div>
                        </div>
                    </div>
                </div>
            ` + content;
            
            return content;
        }
        
        // Test the function
        const testSummary = [
            {
                award_type: 'leadership',
                readiness: 'Ready to Apply',
                satisfied_count: 8,
                total_count: 10,
                document_count: 5,
                event_count: 3
            }
        ];
        
        document.getElementById('test-content').innerHTML = generateReportContent(testSummary);
        console.log('Test completed successfully');
    </script>
</body>
</html>
